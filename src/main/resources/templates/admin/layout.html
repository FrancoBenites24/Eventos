<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" lang="es" data-bs-theme="light">
<xmlns:th="http://www.thymeleaf.org" lang="es" th:fragment="*">

<head>
    <meta charset="UTF-8">
    <title th:text="${title} ?: 'Panel Admin - Eventos'"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/custom.css}">
</head>
<body>
<div class="d-flex">
    <!-- Sidebar -->
    <div th:replace="~{admin/sidebar :: sidebar}"></div>
<div class="d-flex flex-column flex-md-row">

    <!-- Main Content -->
    <main class="flex-grow-1 p-4">
        <div th:replace="~{${content}}">
            <!-- Aquí se insertará el contenido de cada página -->
        </div>
    </main>
</div>

<!-- Bootstrap Bundle (con Popper para dropdowns, modals, tooltips, etc.) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('collapsed');
        sidebar.classList.toggle('expanded');
    }

    function toggleTheme() {
        const html = document.documentElement;
        html.dataset.bsTheme = (html.dataset.bsTheme === "light") ? "dark" : "light";
    }


    // Inicialización defensiva para dropdowns
    document.querySelectorAll('[data-bs-toggle="dropdown"]').forEach(el => {
        new bootstrap.Dropdown(el);
    });
</script>
</body>
</html>
