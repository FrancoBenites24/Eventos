<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(hero,content,scripts)">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title th:text="${pageTitle} ?: 'Pievi'">Pievi</title>

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    :root{
      --accent:#06b6d4;     /* turquesa Pievi */
      --accent-2:#0891b2;   /* hover */
      --ink:#0f172a;        /* casi negro */
      --muted:#64748b;      /* gris texto */
      --bg:#f8fafc;         /* fondo claro */
      --card:#ffffff;
      --border:#e2e8f0;
      --shadow:0 10px 25px rgba(15,23,42,.06);
      --radius:16px;
    }
    html,body{height:100%}
    body{background:var(--bg); color:var(--ink); font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"}
    .container{max-width:1140px}

    /* NAVBAR */
    .app-navbar{background:#fff; border-bottom:1px solid var(--border)}
    .brand-dot{width:16px;height:16px;border-radius:5px;background:var(--accent);display:inline-block;margin-right:.5rem}
    .app-navbar .nav-link{color:#475569;font-weight:500}
    .app-navbar .nav-link.active,.app-navbar .nav-link:hover{color:var(--ink)}
    .btn-accent{background:var(--accent);border-color:var(--accent)}
    .btn-accent:hover{background:var(--accent-2);border-color:var(--accent-2)}

    /* TARJETAS */
    .card-soft{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
    .list-soft{border:1px solid var(--border);border-radius:12px}

    /* HERO */
    .hero{background:linear-gradient(180deg,#ffffff 0%, #f6fbfc 70%); border-bottom:1px solid var(--border)}
    .hero-eyebrow{display:inline-flex;align-items:center;gap:.5rem;background:#e6fbfe;color:#036e7f;border-radius:999px;padding:.35rem .7rem;font-weight:600;font-size:.82rem}

    /* Utilidades */
    .sticky-lg{position:static}
    @media(min-width:992px){ .sticky-lg{position:sticky; top:24px} }
    :focus-visible{outline:3px solid #a5f3fc; outline-offset:2px}
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="navbar app-navbar sticky-top">
    <div class="container py-2">
      <a th:href="@{/}" class="navbar-brand d-flex align-items-center fw-bold">
        <span class="brand-dot"></span> Pievi
      </a>
      <ul class="navbar-nav flex-row gap-3 align-items-center ms-auto">
        <li class="nav-item">
          <a th:href="@{/}" class="nav-link" th:classappend="${nav}=='home' ? ' active' : ''">Inicio</a>
        </li>
        <li class="nav-item">
          <a th:href="@{/eventos}" class="nav-link" th:classappend="${nav}=='eventos' ? ' active' : ''">Eventos</a>
        </li>
        <li class="nav-item">
          <a th:href="@{/profile}" class="nav-link" th:classappend="${nav}=='profile' ? ' active' : ''">Mi perfil</a>
        </li>
        <li class="nav-item">
          <a th:href="@{/signup}" class="btn btn-sm btn-accent text-white px-3"><i class="bi bi-person-plus me-1"></i> Únete gratis</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- HERO SLOT -->
  <section class="hero">
    <div class="container py-3 py-md-4" th:replace="${hero}"></div>
  </section>

  <!-- CONTENT SLOT -->
  <main class="container py-4 py-md-5">
    <div th:replace="${content}"></div>
  </main>

  <!-- FOOTER -->
  <footer class="border-top py-4">
    <div class="container small text-muted d-flex justify-content-between">
      <div>© <span th:text="${#dates.format(#dates.createNow(),'yyyy')}">2025</span> Pievi</div>
      <div><i class="bi bi-shield-check me-1"></i> Pagos seguros · <i class="bi bi-qr-code-scan me-1"></i> QR inmediato · Agenda semanal</div>
    </div>
  </footer>

  <!-- SCRIPTS SLOT -->
  <div th:replace="${scripts}"></div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
